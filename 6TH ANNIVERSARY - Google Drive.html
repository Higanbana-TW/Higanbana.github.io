<!DOCTYPE html>
<html lang="zh-Hant">

<!-- ç¶²ç«™titleèˆ‡æ–‡å­—åº•è‰² -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Album: Daily photo / å½¼å²¸èŠ±ï¼›é–‹å½¼å²¸ã€‚</title>
    <style>
        @import url('https://fonts.googleapis.com/earlyaccess/cwtexming.css');
        header {
            background-color: #222;
            color: rgba(199, 118, 131, 0.986);
            padding: 10px 0;
            text-align: center;
        }
        nav {
            background-color: #444;
            color: #fff;
            text-align: center;
        }
        nav ul {
            list-style-type: none;
            margin: 1px;
            padding: 0px;
        }
        nav ul > li {
            display: inline-block;
            position: relative;
        }
        nav ul > li > a {
            display: block;
            text-decoration: none;
            color: #fff;
            padding: 5px;
            margin: 0 5px;
        }
        nav a:hover {
            background-color: #666;
            color: rgb(248, 161, 161);
        }
        .active {
            color: rgb(250, 136, 136);
        }
        div {
            position: relative;
        }
        @keyframes fadein {
            0% {opacity: 0;}
            100% {opacity: 1;}
            from {left: -100px;}
            to   {left: 0px;}
        }
        .ant {
            animation: fadein 1s ease;
        }
        @keyframes fadein_top {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }

            from {
                top: -50px;
            }

            to {
                top: 0px;
            }
        }

        .ant_top {
            animation: fadein_top 2s ease;
        }

        @keyframes fadein_bot {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }

            from {
                bottom: -50px;
            }

            to {
                bottom: 0px;
            }
        }

        .ant_bot {
            animation: fadein_bot 2s ease;
        }

        center {
            font-family: 'cwTeXMing', 'Arial', serif;
        }
        /* å­é¸å–®æ¨£å¼ */
        .submenu {
            display: none;
            position: absolute;
            background-color: #444;
            box-shadow: 0px 2px 5px #666;
            z-index: 1;
        }
        nav ul > li:hover .submenu {
            display: block;
        }
        .submenu > li > a {
            display: block;
            padding: 5px 5px;
            text-decoration: none;
            color: #fff;
        }
        .submenu > li > a:hover {
            background-color: #666;
            color: rgb(248, 161, 161);
        }
        /* æ–¹å¡Šæ¨£å¼ */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            grid-gap: 10px;
        }
        .gallery img {
            width: 100%;
            height: auto;
            max-width: 200px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .gallery img:hover {
            transform: scale(1.1);
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            padding-top: 100px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.9);
        }
        .modal-content {
            margin: auto;
            display: block;
            height: 70%;
            max-height: 700px;
            position: relative;
        }
        .close {
            color: #fff;
            position: absolute;
            top: 10px;
            right: 25px;
            font-size: 30px;
            font-weight: bold;
            transition: 0.3s;
        }
        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
        .prev,
        .next {
            cursor: pointer;
            position: absolute;
            top: 50%;
            width: auto;
            padding: 16px;
            margin-top: -50px;
            color: #fff;
            font-weight: bold;
            font-size: 20px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
        }
        .prev {
            left: 0;
        }
        .next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }
        .prev:hover,
        .next:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }
        .thumbnail {
            display: flex;
            justify-content: flex-start;
            align-items: center;
            flex-wrap: nowrap;
            margin-top: 20px;
            overflow-x: auto;
            overflow-y: hidden;
            height: 220px;
            padding: 10px 0;
            scrollbar-width: auto;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
        }
        .thumbnail::-webkit-scrollbar {
            height: 8px;
        }
        .thumbnail::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
        }
        .thumbnail::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
        }
        .thumbnail::-webkit-scrollbar-thumb:hover {
            background-color: rgba(255, 255, 255, 0.5);
        }
        .thumbnail img {
            height: 200px;
            width: auto;
            object-fit: contain;
            margin-right: 10px;
            cursor: pointer;
            transition: transform 0.3s ease, opacity 0.3s ease;
            flex-shrink: 0;
            border: 2px solid transparent;
            border-radius: 4px;
        }
        .thumbnail img:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }
        .thumbnail img.active {
            border: 3px solid #fff;
            border-radius: 4px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        .thumbnail img:last-child {
            margin-right: 0;
        }
        .caption {
            color: #fff;
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }

</style>
    
    <script>
        $(document).ready(function(){
            $('.tr_1_more').on("click",function(){
                $('.tr_1_more').hide() ;
                $('.tr_1').hide() ;
                $('.tr_2').show() ;
            })
            $('.tr_1_more').show() ;
            $('.tr_1').show() ;
            $('.tr_2').hide() ;
        })
    </script>
</head>

<body>
    <!-- ç¶²ç«™title -->
    <center>
        <table border="0" class="styleNews" style="border-spacing: 0px 0px; padding: 0px 0px" width="1080">
            <tr>
                <td class="styleNewsContentRight" align="center">
                    <header>
                        <h1>å½¼å²¸èŠ±ï¼›é–‹å½¼å²¸ã€‚</h1>
                    </header>
                </td>
            </tr>
        </table>
    </center>
    <center>
        <!-- ç¶²å€ç›®éŒ„ -->
        <table border="0" class="styleNews" style="border-spacing: 0px 0px; padding: 0px 0px" width="1080">
            <tr>
                <td class="styleNewsContentRight" align="center">
                    <nav>
                        <ul>
                            <li>
                                <a href="./Home.html">Home</a>
                            </li>
                            <li>
                                <a href="./Aboutus.html">About us</a>
                                <ul class="submenu">
                                    <li><a href="./Intro.html">Intro</a></li>
                                    <li><a href="./Managers.html">Managers</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="./News.html">News</a>
                            </li>
                            <li>
                                <a class="active" href="./Album - Google Drive.html">Album</a>
                            </li>
                            <li>
                                <a href="./Login.html">Login</a>
                            </li>
                            <li>
                                <a href="https://forum.gamer.com.tw/C.php?bsn=16583&snA=58352&tnum=747&subbsn=12" target="_blank">Join us</a>
                            </li>
                        </ul>
                    </nav>
                </td>
            </tr>
        </table>
    </center>
    <center>
        <!-- æ–‡å­—ä»‹ç´¹ -->
        <table border="0" class="styleNews" style="border-spacing: 0px 0px; padding: 0px 0px" width="1080">
            <tbody>
                <tr>
                    <td align="center" valign="top" width="960">
                        <div class="ant_bot">
                            <h1>
                                <small><font color="#f8a1a1">DAILY PHOTO</font></small>
                            </h1>
                        </div>
                        <div class="ant_top">
                            <br>
                            <p>From August 2015
                            <br>
                            <br>
                            è¨˜éŒ„è‘—éå¾€çš„å…¬æœƒæ´»å‹•å’Œæ—¥å¸¸</p>
                        </div>
                        
                    </td>
                </tr>
                
                <tr>
                    <td align="center" valign="top" width="960">
                        <big>6TH ANNIVERSARY</big>
                    </td>
                </tr>
                <tr>
                    <td align="center" valign="top" width="960">
                        <p style="color: #f8a1a1; font-size: 12px; margin-top: 10px;">
                            å¦‚æœåœ–ç‰‡ç„¡æ³•é¡¯ç¤ºï¼Œè«‹é€šçŸ¥ç®¡ç†å“¡
                        </p>
                    </td>
                </tr>
                <tr>
                    <td align="left" valign="top" width="960">
                        <div class="container">
                            <div class="gallery" id="gallery">
                                <!-- åœ–ç‰‡å°‡ç”± JavaScript å¾ Google Drive å‹•æ…‹è¼‰å…¥ -->
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </center>
    <!-- The Modal -->
    <div id="myModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="img01">
        <div class="caption" id="caption"></div>
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
        <div class="thumbnail"></div>
    </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <center>
        <p>
            <a href="./Album - Google Drive.html">Back</a>
        </p>
    </center>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <center>
    <!-- ç‰ˆæ¬Šè²æ˜ -->
        <small>
            <p>&copy; 2024 SweetTearsã€‚ä¿ç•™æ‰€æœ‰æ¬Šåˆ©ã€‚</p>
        </small>
    </center>

    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Google Drive åœ–ç‰‡é…ç½®
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // å°‡æœ¬åœ°åœ–ç‰‡è·¯å¾‘æ˜ å°„åˆ° Google Drive æª”æ¡ˆ ID
        // å¦‚ä½•å–å¾—æª”æ¡ˆ IDï¼šåœ¨ Google Drive ä¸­å³éµé»æ“Šåœ–ç‰‡ â†’ ã€Œå–å¾—é€£çµã€
        // å¾é€£çµä¸­è¤‡è£½æª”æ¡ˆ IDï¼ˆä¾‹å¦‚ï¼šhttps://drive.google.com/file/d/æª”æ¡ˆID/viewï¼‰
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const imageFileIdMap = {
            './Album/6TH ANNIVERSARY/2021_12_18_0011.png': '1cr8sR_L3rkC14VtP3un0lxAghxDIA0wp',
            './Album/6TH ANNIVERSARY/2021_12_18_0012.png': '14ugX8iqWgmFtpdHZBdsB_SswYJX8wxiJ',
            './Album/6TH ANNIVERSARY/2021_12_18_0013.png': '1R0hekHHtP2pzXiCXvpnbXZt0UfwaheRK',
            './Album/6TH ANNIVERSARY/2021_12_18_0015.png': '1c7T-11ojD5VGWWPN0lgUW8Mo_DGiaVSv',
            './Album/6TH ANNIVERSARY/2021_12_18_0016.png': '1ONPK7zsi0tSHxfTUQwMaxcsWzRKgiZ8V',
            './Album/6TH ANNIVERSARY/event5/2021_12_23_0000.png': '1sPAd2Oy1y3eHBdZ5YFzN6hR23UAlVEFj',
            './Album/6TH ANNIVERSARY/event5/2021_12_23_0002.png': '1X3pzLB3Q8E6V1H8_RvySIuZKrgNfchnx',
            './Album/6TH ANNIVERSARY/event5/2021_12_25_0001.png': '1SnxUshdKudecIDoEVuD6uCQb4UZJjK-K',
            './Album/6TH ANNIVERSARY/event5/39b34a026aa25f80.png': '1XaHOwTGTGSfnWpLynQxnsMc-4Tmuz4Qv',
            './Album/6TH ANNIVERSARY/event5/a3eaabb6c5bb3e93.png': '1Mrzy1P8g6W2DfSlIULB2iQz_Nzs3e_uK',
            './Album/6TH ANNIVERSARY/event5/heroes_x64_2021-12-23_00-02-31.png': '13j-xH_YD7dlsgHrTmH7AcbK5ChFZ2qtO',
            './Album/6TH ANNIVERSARY/event5/unknown (1).png': '1XaHOwTGTGSfnWpLynQxnsMc-4Tmuz4Qv',
            './Album/6TH ANNIVERSARY/event5/unknown (2).png': '16qlzrbsNXnO6T2xdIPMWpkOzKyvXkVBh',
            './Album/6TH ANNIVERSARY/event5/unknown (3).png': '1lDuM3VtWe9JDtbFve-KwFITFnilZLcBp',
            './Album/6TH ANNIVERSARY/event5/unknown (4).png': '1kKzkHB9CjdZzFUzY4pbrtU0oBlaJI6kf',
            './Album/6TH ANNIVERSARY/event5/unknown (5).png': '1FqYSDuMFhgn3tchgy1wB7uJ1-R0yH_a9',
            './Album/6TH ANNIVERSARY/event5/unknown.png': '1ILcbTH02iVjYsqbwAmWxwzlkr3tTOZSZ',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-13-08.png': '1eer77oV6ZBCvukf8BdTtgVyHm0xuJFf-',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-14-59.png': '1rVePiJAzRjzhdSj13IzcnuMoyyNJsM9k',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-15-19.png': '1W-GI1tRfaSdvXMw7YAxOu2gkbYJeeAD4',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-15-48.png': '1d7pKtyfu9aMIwDmu00Rq-hSTTl9PqMQs',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-16-11.png': '1byfqFWZGhRmLu3W2z2I2kNPXRnN32HaA',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-16-19.png': '1kp7lBG0vvtvhdizI_2NM0-5QLkBI1Nur',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-18-46.png': '1mFY24Ydo3b839FTElEzcjTZTXO3WxxBx',
            './Album/6TH ANNIVERSARY/heroes_x64_2021-12-18_23-20-35.png': '1EX37XCKESugQyBFYe_qArb1IqZN52J5e',
        };
        
                // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // å¯é¸çš„åœ–ç‰‡ Alt æ–‡å­—é…ç½®ï¼ˆç”¨æ–¼åœ–ç‰‡çš„æ›¿ä»£æ–‡å­—ï¼‰
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // æ ¼å¼ï¼šåŸå§‹è·¯å¾‘å°æ‡‰åˆ° alt æ–‡å­—ï¼ˆç•™ç©ºå‰‡ä¸ä½¿ç”¨ altï¼‰
        // å¦‚æœä¸éœ€è¦ alt åŠŸèƒ½ï¼Œå¯ä»¥åˆªé™¤æ­¤ map æˆ–ç•™ç©ºæ‰€æœ‰é …ç›®
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        const imageAltMap = {
            './Album/6TH ANNIVERSARY/event5/2021_12_23_0000.png': 'å¸Œæœ›æ˜å¹´ä¹‹å¾Œè¶Šä¾†è¶Šé’æ˜¥ç¾éº—ğŸ˜‹  â”€  æª¸æª¬ä½³å…’',
            './Album/6TH ANNIVERSARY/event5/2021_12_23_0002.png': 'å¸Œæœ›å¯ä»¥è¶Šä¾†è¶Šå¥½  â”€  æœ›æœˆ',
            './Album/6TH ANNIVERSARY/event5/2021_12_25_0001.png': 'ğŸ‘å¸Œæœ›æ˜å¹´å¤§å®¶éƒ½ç™¼å¤§è²¡  â”€  é’è¦‹å¥³è‰¯',
            './Album/6TH ANNIVERSARY/event5/39b34a026aa25f80.png': 'å¸Œæœ›æ˜å¹´é£›å‘æ­æ´² ï¼Œç•¶å€‹æ­æ´²äºº  â”€  å‘†å’–å•¡',
            './Album/6TH ANNIVERSARY/event5/a3eaabb6c5bb3e93.png': 'å¸Œæœ›æ˜å¹´ä¸€åˆ‡é †åˆ©ï¼Œè¨‚å–®å¤§å¢ï¼Œå‡ºåœ‹éŠç©ï¼Œç•¶æ­æ´²äºº  â”€  åˆºåˆºæ»´',
            './Album/6TH ANNIVERSARY/event5/heroes_x64_2021-12-23_00-02-31.png': 'ç‘ªè‹±å¦‚é…’ ç©ä¹…å°±é†‰ å–å‚»äº†æ‰ç©å¾—ä¸‹å»  â”€  å¥ˆé›…',
            './Album/6TH ANNIVERSARY/event5/unknown (1).png': 'å¸Œæœ›æ˜å¹´å¤šè³ºé»ï¼Œé¡˜æ¦®å…‰ç…§äº®æ¯ä¸€å€‹è§’è½ï¼Œç•€å•²æ™æ‰!!!  â”€  é‡åŠä¸Šçš„å¥³å­©',
            './Album/6TH ANNIVERSARY/event5/unknown (2).png': 'å¸Œæœ›æ˜å¹´ç¹¼çºŒç•¶å€‹æ­æ´²äººï¼Œæœ‰å€‹å¥³æœ‹å‹é™ªä¼´  â”€  å¡å­£æ³•',
            './Album/6TH ANNIVERSARY/event5/unknown (3).png': 'æ˜å¹´ä¸€å®šå€’  â”€  é†«å°å…«',
            './Album/6TH ANNIVERSARY/event5/unknown (4).png': 'å¸Œæœ›æ˜å¹´èƒ½ç¹¼çºŒé–‹å¿ƒçš„ç©éŠæˆ²  â”€  é³¶å¤œè¯',
            './Album/6TH ANNIVERSARY/event5/unknown (5).png': 'å¸Œæœ›æ‰€æœ‰å£è›‹å¾ä¸–ç•Œä¸Šæ¶ˆå¤±!!  â”€  VVG',
            './Album/6TH ANNIVERSARY/event5/unknown.png': 'å¸Œæœ›å¤©å¤©éƒ½æœ‰ä¿  ç”Ÿæ´»éçš„å¥½ èª¿çš®å¤šæ—è›‹  â”€  å„ªé›…çš„å°æ³‰',
            // ç¯„ä¾‹ï¼š\'./Album/DAILY PHOTO/2018/2018_02_03_0004.jpg\': \'åœ–ç‰‡æè¿°æ–‡å­—\'
        };
        
        // å°‡æª”æ¡ˆ ID è½‰æ›ç‚º Google Drive åœ–ç‰‡ URL
        // å˜—è©¦å¤šç¨® URL æ ¼å¼ä»¥ç¢ºä¿åœ–ç‰‡èƒ½æ­£å¸¸é¡¯ç¤º
        function getGoogleDriveImageUrl(fileId) {
            if (!fileId) return '';
            // æ–¹å¼1ï¼šæ¨™æº–çš„å…¬é–‹åœ–ç‰‡é€£çµï¼ˆæª”æ¡ˆéœ€è¨­ç‚ºå…¬é–‹æˆ–ã€ŒçŸ¥é“é€£çµçš„ä½¿ç”¨è€…ã€ï¼‰
            return `https://drive.google.com/uc?export=view&id=${fileId}`;
        }
        
        // å‚™ç”¨çš„åœ–ç‰‡ URL æ ¼å¼ï¼ˆå¦‚æœä¸Šé¢çš„ä¸è¡Œå¯ä»¥ç”¨é€™å€‹ï¼‰
        function getGoogleDriveImageUrlAlternative(fileId) {
            if (!fileId) return '';
            // æ–¹å¼2ï¼šä½¿ç”¨ Google ç¸®åœ–æœå‹™ï¼ˆéœ€è¦æª”æ¡ˆå…¬é–‹ï¼‰
            return `https://lh3.googleusercontent.com/d/${fileId}`;
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // åŸæœ‰çš„åœ–ç‰‡ç•«å»ŠåŠŸèƒ½è®Šæ•¸
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        var modal = document.getElementById("myModal");
        var modalImg = document.getElementById("img01");
        var captionText = document.getElementById("caption");
        var thumbnails = document.querySelector(".thumbnail");
        var slideIndex = 0;
        var images;
        var isProgrammaticScroll = false; // æ¨™è¨˜æ˜¯å¦æ˜¯ç¨‹å¼æ§åˆ¶çš„æ»¾å‹•ï¼ˆç”¨æ–¼é¿å…å¾ªç’°é‚è¼¯åœ¨é»æ“Šæ™‚è§¸ç™¼ï¼‰

        // å¾ Google Drive è¼‰å…¥åœ–ç‰‡ï¼ˆåªè¼‰å…¥å·²ç¶“å¡«å…¥æª”æ¡ˆ ID çš„åœ–ç‰‡ï¼‰
        function loadImagesFromGoogleDrive() {
            const gallery = document.getElementById('gallery');
            
            // æ¸…ç©ºç•«å»Š
            gallery.innerHTML = '';
            
            // éæ­· imageFileIdMapï¼Œåªè¼‰å…¥å·²ç¶“å¡«å…¥æª”æ¡ˆ ID çš„åœ–ç‰‡
            Object.keys(imageFileIdMap).forEach(function(originalPath) {
                const fileId = imageFileIdMap[originalPath];
                // åªè¼‰å…¥å·²ç¶“å¡«å…¥æª”æ¡ˆ ID çš„åœ–ç‰‡ï¼ˆéç©ºå­—ä¸²ï¼‰
                if (fileId && fileId.trim() !== '') {
                    const img = document.createElement('img');
                    const imageUrl = getGoogleDriveImageUrl(fileId);
                    img.src = imageUrl;
                    img.setAttribute('data-original-path', originalPath);
                    
                    // å¦‚æœ imageAltMap ä¸­æœ‰è¨­å®š altï¼Œå‰‡è¨­ç½® alt å±¬æ€§
                    if (imageAltMap && imageAltMap[originalPath] && imageAltMap[originalPath].trim() !== '') {
                        img.alt = imageAltMap[originalPath];
                    }
                    // æ·»åŠ éŒ¯èª¤è™•ç†ï¼šå¦‚æœåœ–ç‰‡è¼‰å…¥å¤±æ•—ï¼Œé¡¯ç¤ºæç¤º
                    img.onerror = function() {
                        console.error('åœ–ç‰‡è¼‰å…¥å¤±æ•—:', fileId, originalPath);
                        // å˜—è©¦å‚™ç”¨ URL
                        const altUrl = getGoogleDriveImageUrlAlternative(fileId);
                        if (this.src !== altUrl) {
                            this.src = altUrl;
                        } else {
                            // å¦‚æœé‚„æ˜¯å¤±æ•—ï¼Œé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
                            this.style.border = '2px solid red';
                            // alt removed - éŒ¯èª¤è¨Šæ¯å·²ç§»é™¤
                        }
                    };
                    
                    // åœ–ç‰‡è¼‰å…¥æˆåŠŸæ™‚çš„è™•ç†
                    img.onload = function() {
                        console.log('åœ–ç‰‡è¼‰å…¥æˆåŠŸ:', fileId);
                    };
                    
                    gallery.appendChild(img);
                }
            });
            
            // åœ–ç‰‡è¼‰å…¥å®Œæˆå¾Œï¼Œåˆå§‹åŒ–ç•«å»ŠåŠŸèƒ½
            // ä½¿ç”¨ setTimeout ç¢ºä¿åœ–ç‰‡æœ‰æ™‚é–“è¼‰å…¥
            setTimeout(function() {
                initGallery();
            }, 100);
        }
        
        // åˆå§‹åŒ–ç•«å»ŠåŠŸèƒ½
        function initGallery() {
            images = document.querySelectorAll(".gallery img");
            
            images.forEach(function(img, index){
                img.addEventListener("click", function(){
                    modal.style.display = "block";
                    modalImg.src = this.src;
                    slideIndex = index;
                    showThumbnails();
                    showCaption();
                });
            });

            var span = document.getElementsByClassName("close")[0];

            span.onclick = function() {
                modal.style.display = "none";
            };
            
            // å•Ÿç”¨ç¸®åœ–å€åŸŸçš„æ»¾è¼ªæ°´å¹³æ»¾å‹•
            enableThumbnailWheelScroll();
        }

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        function showSlides(n) {
            var slides = document.querySelectorAll('.gallery img');
            if (n >= slides.length) {slideIndex = 0;}
            if (n < 0) {slideIndex = slides.length - 1;}
            modalImg.src = slides[slideIndex].src;
            showThumbnails();
            showCaption();
        }

        function showThumbnails() {
            thumbnails.innerHTML = "";
            
            // ç‚ºäº†å¯¦ç¾å¾ªç’°æ»¾å‹•ï¼Œåœ¨é–‹é ­è¤‡è£½æœ€å¾Œä¸€å¼µï¼Œåœ¨çµå°¾è¤‡è£½ç¬¬ä¸€å¼µ
            var totalImages = images.length;
            
            // å‰µå»ºæœ€å¾Œä¸€å¼µçš„ç¸®åœ–ï¼ˆæ”¾åœ¨æœ€å‰é¢ï¼Œä½œç‚ºå¾ªç’°é€£æ¥ï¼‰
            if (totalImages > 0) {
                var lastThumb = document.createElement("img");
                lastThumb.src = images[totalImages - 1].src;
                lastThumb.alt = "thumbnail " + totalImages;
                lastThumb.classList.add("clone-last");
                lastThumb.onclick = function() {
                    currentSlide(totalImages - 1);
                };
                thumbnails.appendChild(lastThumb);
            }
            
            // å‰µå»ºçœŸå¯¦çš„ç¸®åœ–
            images.forEach(function(img, index){
                var thumb = document.createElement("img");
                thumb.src = img.src;
                thumb.alt = "thumbnail " + (index + 1);
                thumb.setAttribute("data-index", index);
                if (index === slideIndex) {
                    thumb.classList.add("active");
                }
                thumb.onclick = function() {
                    currentSlide(index);
                };
                thumbnails.appendChild(thumb);
            });
            
            // å‰µå»ºç¬¬ä¸€å¼µçš„ç¸®åœ–ï¼ˆæ”¾åœ¨æœ€å¾Œé¢ï¼Œä½œç‚ºå¾ªç’°é€£æ¥ï¼‰
            if (totalImages > 0) {
                var firstThumb = document.createElement("img");
                firstThumb.src = images[0].src;
                // firstThumb.alt removed
                firstThumb.classList.add("clone-first");
                firstThumb.onclick = function() {
                    currentSlide(0);
                };
                thumbnails.appendChild(firstThumb);
            }
            
            // ç¢ºä¿ç•¶å‰é¸ä¸­çš„ç¸®åœ–å¯è¦‹ï¼ˆæ»¾å‹•åˆ°å¯è¦‹å€åŸŸï¼‰
            // éœ€è¦æ»¾å‹•åˆ°çœŸå¯¦åœ–ç‰‡ä½ç½®ï¼Œä¸æ˜¯è¤‡è£½çš„åœ–ç‰‡
            var activeThumb = thumbnails.querySelector('img.active');
            if (activeThumb) {
                // æ¨™è¨˜é€™æ˜¯ç¨‹å¼æ§åˆ¶çš„æ»¾å‹•ï¼Œé¿å…è§¸ç™¼å¾ªç’°é‚è¼¯
                isProgrammaticScroll = true;
                
                // è¨ˆç®—çœŸå¯¦ç¸®åœ–çš„ä½ç½®ï¼ˆéœ€è¦è€ƒæ…®é–‹é ­çš„è¤‡è£½åœ–ç‰‡ï¼‰
                setTimeout(function() {
                    // ç¢ºä¿æ»¾å‹•åˆ°çœŸå¯¦åœ–ç‰‡å€åŸŸï¼Œè€Œä¸æ˜¯è¤‡è£½çš„åœ–ç‰‡
                    // ä½¿ç”¨ center ç¢ºä¿åœ–ç‰‡å±…ä¸­ï¼Œé¿å…å¤ªé è¿‘é‚Šç·£è§¸ç™¼å¾ªç’°é‚è¼¯
                    activeThumb.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                    
                    // ç­‰å¾…æ»¾å‹•å®Œæˆå¾Œï¼Œå†ç­‰å¾…ä¸€æ®µæ™‚é–“æ‰å–æ¶ˆæ¨™è¨˜ï¼Œç¢ºä¿ä¸æœƒè§¸ç™¼å¾ªç’°é‚è¼¯
                    // å¢åŠ å»¶é²æ™‚é–“ï¼Œç¢ºä¿æ»¾å‹•å‹•ç•«å®Œå…¨çµæŸ
                    setTimeout(function() {
                        isProgrammaticScroll = false;
                    }, 1000);
                }, 200);
            } else {
                // å¦‚æœæ²’æœ‰æ‰¾åˆ° active ç¸®åœ–ï¼Œä¹Ÿéœ€è¦é‡ç½®æ¨™è¨˜
                setTimeout(function() {
                    isProgrammaticScroll = false;
                }, 1000);
            }
        }
        
        // å•Ÿç”¨ç¸®åœ–å€åŸŸçš„æ»¾è¼ªæ°´å¹³æ»¾å‹•ï¼ˆåŒ…å«å¾ªç’°æ•ˆæœï¼‰
        function enableThumbnailWheelScroll() {
            thumbnails.addEventListener('wheel', function(e) {
                // é˜²æ­¢é è¨­çš„å‚ç›´æ»¾å‹•
                if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) {
                    e.preventDefault();
                    // å°‡å‚ç›´æ»¾å‹•è½‰æ›ç‚ºæ°´å¹³æ»¾å‹•
                    this.scrollLeft += e.deltaY;
                }
            }, { passive: false });
            
            // ç›£è½æ»¾å‹•äº‹ä»¶ï¼Œå¯¦ç¾çœŸæ­£çš„å¾ªç’°æ•ˆæœï¼ˆç„¡ç¸«å¾ªç’°ï¼‰
            thumbnails.addEventListener('scroll', function() {
                // å¦‚æœæ˜¯ç¨‹å¼æ§åˆ¶çš„æ»¾å‹•ï¼Œä¸è§¸ç™¼å¾ªç’°é‚è¼¯
                if (isProgrammaticScroll) return;
                
                var scrollLeft = this.scrollLeft;
                var clientWidth = this.clientWidth;
                
                // è¨ˆç®—ç¬¬ä¸€å¼µå’Œæœ€å¾Œä¸€å¼µçœŸå¯¦åœ–ç‰‡çš„ä½ç½®
                var firstRealThumb = this.querySelector('img[data-index="0"]');
                var lastRealThumb = this.querySelector('img[data-index="' + (images.length - 1) + '"]');
                
                if (!firstRealThumb || !lastRealThumb) return;
                
                var firstRealLeft = firstRealThumb.offsetLeft;
                var lastRealLeft = lastRealThumb.offsetLeft;
                var lastRealRight = lastRealLeft + lastRealThumb.offsetWidth;
                
                // ç²å–è¤‡è£½åœ–ç‰‡çš„ä½ç½®
                var cloneLastThumb = this.querySelector('img.clone-last');
                var cloneFirstThumb = this.querySelector('img.clone-first');
                
                if (cloneLastThumb && cloneFirstThumb) {
                    var cloneLastRight = cloneLastThumb.offsetLeft + cloneLastThumb.offsetWidth;
                    var cloneFirstLeft = cloneFirstThumb.offsetLeft;
                    var viewportRight = scrollLeft + clientWidth;
                    
                    // å¦‚æœæ»¾å‹•åˆ°æœ€å³é‚Šï¼ˆçœ‹åˆ°çµå°¾çš„è¤‡è£½åœ–ç‰‡ï¼‰ï¼Œç«‹å³ç„¡ç¸«èª¿æ•´åˆ°é–‹é ­
                    if (scrollLeft >= cloneFirstLeft) {
                        isProgrammaticScroll = true;
                        // ç›´æ¥èª¿æ•´ scrollLeftï¼Œè®“å®ƒçœ‹èµ·ä¾†æ˜¯é€£çºŒçš„
                        // è¨ˆç®—ï¼šå¾è¤‡è£½çš„ç¬¬ä¸€å¼µåœ–ç‰‡å€åŸŸèª¿æ•´åˆ°å°æ‡‰çš„çœŸå¯¦ç¬¬ä¸€å¼µåœ–ç‰‡ä½ç½®
                        // åç§»é‡ = çœŸå¯¦ç¬¬ä¸€å¼µä½ç½® - è¤‡è£½ç¬¬ä¸€å¼µä½ç½®
                        var offset = firstRealLeft - cloneFirstLeft;
                        // èª¿æ•´å¾Œçš„ä½ç½® = ç•¶å‰æ»¾å‹•ä½ç½® - åç§»é‡
                        this.scrollLeft = scrollLeft - offset;
                        // ç«‹å³å–æ¶ˆæ¨™è¨˜ï¼Œå› ç‚ºé€™æ˜¯ä¸€æ¬¡æ€§çš„èª¿æ•´
                        setTimeout(function() {
                            isProgrammaticScroll = false;
                        }, 50);
                    }
                    // å¦‚æœæ»¾å‹•åˆ°æœ€å·¦é‚Šï¼ˆçœ‹åˆ°é–‹é ­çš„è¤‡è£½åœ–ç‰‡ï¼‰ï¼Œç«‹å³ç„¡ç¸«èª¿æ•´åˆ°çµå°¾
                    else if (scrollLeft < cloneLastRight) {
                        isProgrammaticScroll = true;
                        // ç›´æ¥èª¿æ•´ scrollLeftï¼Œè®“å®ƒçœ‹èµ·ä¾†æ˜¯é€£çºŒçš„
                        // è¨ˆç®—ï¼šå¾è¤‡è£½çš„æœ€å¾Œä¸€å¼µåœ–ç‰‡å€åŸŸèª¿æ•´åˆ°å°æ‡‰çš„çœŸå¯¦æœ€å¾Œä¸€å¼µåœ–ç‰‡ä½ç½®
                        // åç§»é‡ = çœŸå¯¦æœ€å¾Œä¸€å¼µä½ç½® - è¤‡è£½æœ€å¾Œä¸€å¼µå³é‚Šç•Œ
                        var offset = lastRealLeft - cloneLastRight;
                        // èª¿æ•´å¾Œçš„ä½ç½® = ç•¶å‰æ»¾å‹•ä½ç½® - åç§»é‡
                        this.scrollLeft = scrollLeft - offset;
                        // ç«‹å³å–æ¶ˆæ¨™è¨˜ï¼Œå› ç‚ºé€™æ˜¯ä¸€æ¬¡æ€§çš„èª¿æ•´
                        setTimeout(function() {
                            isProgrammaticScroll = false;
                        }, 50);
                    }
                }
            });
        }

        function showCaption() {
            captionText.innerHTML = images[slideIndex].alt || ''; // å¦‚æœæœ‰ alt å‰‡é¡¯ç¤ºï¼Œå¦å‰‡é¡¯ç¤ºç©ºå­—ä¸²ï¼Œè·¯å¾‘è³‡è¨Šä¿ç•™åœ¨ data-original-path å±¬æ€§ä¸­
        }
        
        // é é¢è¼‰å…¥æ™‚åŸ·è¡Œå¾ Google Drive è¼‰å…¥åœ–ç‰‡
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadImagesFromGoogleDrive);
        } else {
            loadImagesFromGoogleDrive();
        }
    </script>

    </div>

    </body>

</html>

